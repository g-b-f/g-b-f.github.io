<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../gabe_stylesheet.css">
	<title>Palestine Letter Generator</title>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RL7SPJ1SRZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RL7SPJ1SRZ');
</script>

</head>
<body>

<h1>Palestine Letter Generator</h1>

<div class="mainbox">
<h3>Instructions:</h3>
<ul style="font-size: 1.2em;">
  <li>Fill in any missing/ incorrect details below</li>
  <li>Tap "Generate", this will create a letter and copy it to your clipboard</li>
  <li>Tap "Send", this should open your email app</li>
  <li>Once in the app, long press on the empty message and tap 'paste'</li>
  <li>Type something in the 'subject' of the email, I recommend Request for Your Stance on Recent Events in Palestine</li>
  <li>Send this page to family and friends by tapping the WhatsApp icon at the bottom</li>
</ul>

<p>
Fill in the below details and click "Generate" to create a form to be sent to your local MP:<br><br>
Full name: <input class="textInput" id="fullName" type="text" size="30"><br>
MP name (including title): <input class="textInput" id="mpName" type="text" size="30" value="Ms. Kate Hollern"><br>
MP's party:<input class="textInput" id="party" type="text" size="30" value="Labour"><br>
MP's Email address: <input class="textInput" id="mpEmail" type="text" size="30" value="kate.hollern.mp@parliament.uk"><br>
Constituency: <input class="textInput" id="area" type="text" size="30" value="Blackburn"><br>
</p><br>


<button class="jsButton" onclick="letterGen()">Generate</button><br>
<!-- <textarea class="textInput" id="outputText" rows="20" cols="80"></textarea> -->
<!-- <p id="outputText"></p> -->
<p id="copySend"></p>
<a href="whatsapp://send?text=Please consider using this to send a letter to your local MP about Palestine https://g-b-f.github.io/hosted/palestine-form.html"><img src="whatsapp.svg" alt="HTML tutorial" style="width:3em;height:3em;"></a>

</div>
</body>

<script>

function strReplace(mpName,area,author,party,newLine){

var letterText=`Dear ${mpName},${newLine} ${newLine}\
This is an open letter requesting your stance on recent world events. We, the concerned constituents of \
${area}, urgently write to you regarding the escalating crisis in Palestine â€”an issue of immense \
importance to our community. ${newLine}\
${area} has consistently demonstrated its unwavering opposition to Israeli apartheid policies and \
actions that severely impact Palestinian citizens and their land. Over many years, our community has \
united through demonstrations, protests, and campaigns, voicing collective opposition against these \
injustices. We firmly assert that the ${party} Party should unequivocally refrain from involvement in \
the supply of support, arms, aid, and weapons to Israel. ${newLine}\
Therefore, we fervently push for you to represent these views within the ${party} Party. Specifically, \
we urge you to advocate for the official recognition of the State of Palestine on the international stage. \
Recognizing Palestine as a sovereign state is a critical step towards fostering peace, justice, and \
equality in the region. By actively promoting this recognition, you would echo the sentiments of the \
constituents of ${area}, underscoring the importance of a fair and lasting resolution to the \
longstanding crisis in the Middle East. We believe that your representation of these views within the \
${party} Party will ensure that the concerns and aspirations of our constituency are well reflected and \
respected on this pressing matter. ${newLine}\
However, we have observed a notable absence of public statements or actions from you, our esteemed \
representative in Parliament, on this pressing issue. Given the sentiments of our community, it is \
imperative for us to understand your stance and actions concerning the situation in Palestine. We are \
eager to know why there has been no expression of your views or actions that resonate with the \
concerns shared by your constituents. ${newLine}\
Recent events have added urgency to our appeal. The defence by Palestinian forces against the \
blockade, the brazen violations of international law targeting schools and hospitals by the Israeli \
government, and the recent total blockade resulting in severe deprivation of essential supplies such as \
food, electricity, water, and the denial of escape from the Gaza area have profoundly shaken our \
community. We are compelled to seek your input and leadership on these critical matters. \
We are keen to understand your perspective and what actions, if any, you plan to take to address this \
crisis. Additionally, we would appreciate any information on how you plan to represent our collective \
concerns in the UK Government and the ${party} Party. ${newLine}\
Your response to this matter will provide clarity and assurance to the constituents of ${area} \
regarding your position and actions concerning the situation in Palestine. We eagerly await your reply \
and appreciate your attention to this vital issue. ${newLine}\
Sincerely,${newLine} ${newLine}\
${author} ${newLine}\
Constituent of ${area}`;

    return letterText;
}


function letterGen() {
    let area = document.getElementById("area").value;
    let mpName = document.getElementById("mpName").value;

    let mpEmail = document.getElementById("mpEmail").value;
    let party = document.getElementById("party").value;
    let newLine=" \n"
    let author = document.getElementById("fullName").value;

    let letterText = strReplace(mpName,area,author,party,newLine);
    // document.getElementById("outputText").innerHTML = letterText;

    // let mail=`${mpEmail}&subject=Request%20for%20Your%20Stance%20on%20Recent%20Events%20in%20Palestine`;
    // let mail=`${mpEmail}&subject=Request%2520for%2520Your%2520Stance%2520on%2520Recent%2520Events%2520in%2520Palestine`;
    let mail=mpEmail;
    let sendButton = `<a class="jsButton" href='mailto:${mail}'">Send</a>`;

    document.getElementById("copySend").innerHTML = sendButton;
    newLine="\n"
    navigator.clipboard.writeText(strReplace(mpName,area,author,party,newLine));
}
</script>
</html>